# Supabase Deploy Configuration
# Este arquivo define as configurações para deploy em produção

name: Quiz Lift Off Backend
version: 1.0.0

# Configurações de produção
production:
  database:
    pool_size: 20
    max_connections: 100
    statement_timeout: 30s
    idle_in_transaction_session_timeout: 60s
    
  api:
    max_rows: 10000
    request_timeout: 30s
    rate_limit:
      requests_per_minute: 1000
      
  auth:
    jwt_expiry: 86400  # 24 horas
    refresh_token_rotation: true
    password_min_length: 8
    enable_confirmations: true
    
  storage:
    max_file_size: 50MB
    allowed_mime_types:
      - image/jpeg
      - image/png
      - image/webp
      - application/pdf
      
  functions:
    timeout: 30s
    memory: 512MB
    
# Configurações de segurança
security:
  cors:
    allowed_origins:
      - https://quiz-lift-off.vercel.app
      - https://www.quiz-lift-off.com
    allowed_methods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
      
  rate_limiting:
    enabled: true
    requests_per_minute: 1000
    
  ssl:
    enforce: true
    min_version: "1.2"
    
# Monitoramento
monitoring:
  logging:
    level: info
    retention_days: 30
    
  metrics:
    enabled: true
    export_interval: 60s
    
  alerts:
    error_rate_threshold: 5%
    response_time_threshold: 2s